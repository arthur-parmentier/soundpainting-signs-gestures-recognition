<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
</head>
<body>

  <script src="node_modules/viz.js/viz.js"></script>
  <script src="node_modules/viz.js/full.render.js"></script>
  <script>
		
		window.max.bindInlet("draw", function(dot) {
			var viz = new Viz();
			
			window.max.outlet("Graph received: " + dot)
			
			viz.renderSVGElement(dot)
			.then(function(element) {
			  document.body.appendChild(element);
			})
			.catch(error => {
			// Possibly display the error
			window.max.outlet("Error : " + error);
			});
	})

    <!-- var viz = new Viz(); -->

    <!-- viz.renderSVGElement('digraph "fsm" {  rankdir=LR;  "solid";  "liquid";  "gas";  "solid" -> "liquid" [ label=" melt " ];  "liquid" -> "solid" [ label=" freeze " ];  "liquid" -> "gas" [ label=" vaporize " ];  "gas" -> "liquid" [ label=" condense " ];}') -->
    <!-- .then(function(element) { -->
      <!-- document.body.appendChild(element); -->
    <!-- }); -->

  </script>

</body>
</html>