<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
</head>
<body style="background-color: #FFFFFF; overflow: hidden";>
	<script src="node_modules/viz.js/viz.js"></script>
	<script src="node_modules/viz.js/full.render.js"></script>
	<script>
			
		window.max.bindInlet("draw", function(dot) {
			var viz = new Viz();
			
			// window.max.outlet("Graph received: " + dot)
			
			viz.renderImageElement(dot)
			.then(function(element) {
				element.setAttribute("id", "graph");
				document.body.appendChild(element);
				var e = document.getElementById("graph");
				
				e.style.width = (window.innerWidth-15) + "px";
				e.style.height = (window.innerHeight-15) + "px";
			})
			.catch(error => {
				// Possibly display the error
				window.max.outlet("Error : " + error);
			});
				
		});
		
		window.onresize = function(event) {
			var e = document.getElementById("graph");
			e.style.width = (window.innerWidth-15) + "px";
			e.style.height = (window.innerHeight-15) + "px";
		};
		
	</script>
</body>
</html>