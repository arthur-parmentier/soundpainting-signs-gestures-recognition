<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
</head>
<body>

  <script src="node_modules/viz.js/viz.js"></script>
  <script src="node_modules/viz.js/full.render.js"></script>
  <script>
		
		window.max.bindInlet("draw", function(dot) {
			var viz = new Viz();
			
			// window.max.outlet("Graph received: " + dot)
			
			viz.renderSVGElement(dot)
			.then(function(element) {
			  document.body.appendChild(element);
			})
			.catch(error => {
			// Possibly display the error
			window.max.outlet("Error : " + error);
			});
	})

  </script>

</body>
</html>